{
  "name": "FishIT-Player Android Development",
  "image": "mcr.microsoft.com/devcontainers/java:21",
  "features": {
    "ghcr.io/devcontainers/features/docker-in-docker:2": {
      "moby": false
    },
    "ghcr.io/devcontainers/features/node:1": {
      "version": "20"
    }
  },
  "postCreateCommand": "bash .devcontainer/post-create.sh",
  "postStartCommand": "bash .devcontainer/post-start.sh && bash .devcontainer/postStartImportTdlibSession.sh",
  "customizations": {
    "vscode": {
      "extensions": [
        "GitHub.copilot",
        "GitHub.copilot-chat"
      ],
      "settings": {
        "java.configuration.runtimes": [
          {
            "name": "JavaSE-21",
            "path": "/usr/lib/jvm/msopenjdk-current",
            "default": true
          }
        ],
        "github.copilot.chat.mcp.enabled": true,
        "mcp": {
          "servers": {
            "github": {
              "command": "docker",
              "args": [
                "run",
                "-i",
                "--rm",
                "-e",
                "GITHUB_PERSONAL_ACCESS_TOKEN",
                "ghcr.io/github/github-mcp-server"
              ],
              "env": {
                "GITHUB_PERSONAL_ACCESS_TOKEN": "${localEnv:GITHUB_TOKEN}"
              }
            },
            "sequential-thinking": {
              "command": "npx",
              "args": [
                "-y",
                "@modelcontextprotocol/server-sequential-thinking"
              ]
            }
          }
        }
      }
    }
  },
  "remoteEnv": {
    "JAVA_HOME": "/usr/lib/jvm/msopenjdk-current",
    "ANDROID_HOME": "/home/vscode/.android-sdk",
    "ANDROID_SDK_ROOT": "/home/vscode/.android-sdk",
    "PATH": "${containerEnv:PATH}:/home/vscode/.android-sdk/cmdline-tools/latest/bin:/home/vscode/.android-sdk/platform-tools"
  }
}
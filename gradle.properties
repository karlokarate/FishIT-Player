# Project-wide Gradle settings.
# IDE (e.g. Android Studio) users:
# Gradle settings configured through the IDE *will override*
# any settings specified in this file.
# For more details on how to configure your build environment visit
# http://www.gradle.org/docs/current/userguide/build_environment.html

# ============================================================================
# JVM & MEMORY SETTINGS
# ============================================================================
# Optimized for 8GB Codespaces with 4-5GB available after system overhead
# Conservative limits to prevent OOM crashes during builds
org.gradle.jvmargs=-Xmx1280m -Xms256m -XX:+UseG1GC -XX:MaxMetaspaceSize=384m -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/tmp/gradle-oom.hprof -Dfile.encoding=UTF-8

# ============================================================================
# PERFORMANCE SETTINGS
# ============================================================================
# When configured, Gradle will run in incubating parallel mode.
# This option should only be used with decoupled projects. For more details, visit
# https://developer.android.com/r/tools/gradle-multi-project-decoupled-projects
org.gradle.parallel=true

# Limit parallel workers to prevent memory exhaustion
org.gradle.workers.max=2

# Enable Gradle build caching for faster incremental builds
org.gradle.caching=true

# Enable configuration cache for faster subsequent builds
# Note: Disabled due to ObjectBox plugin incompatibility
# org.gradle.configuration-cache=true
org.gradle.configuration-cache=false
org.gradle.configuration-cache.problems=warn

# Use a persistent Kotlin compiler daemon (saves startup time)
kotlin.compiler.execution.strategy=daemon

# Limit Kotlin daemon memory for low-memory environments
kotlin.daemon.jvmargs=-Xmx512m -Xms128m -XX:+UseG1GC

# Gradle daemon timeout (5 minutes idle = shutdown to free RAM)
org.gradle.daemon.idletimeout=300000

# File system watching (reduces CPU/RAM for change detection)
org.gradle.vfs.watch=true
org.gradle.vfs.verbose=false

# ============================================================================
# ANDROID SETTINGS
# ============================================================================
# AndroidX package structure to make it clearer which packages are bundled with the
# Android operating system, and which are packaged with your app's APK
# https://developer.android.com/topic/libraries/support-library/androidx-rn
android.useAndroidX=true

# Enables namespacing of each library's R class so that its R class includes only the
# resources declared in the library itself and none from the library's dependencies,
# thereby reducing the size of the R class for that library
android.nonTransitiveRClass=true

# Suppress warning about using compileSdk 36 with AGP 8.6.1
android.suppressUnsupportedCompileSdk=36

# Enable faster R8/ProGuard full mode (more aggressive shrinking)
android.enableR8.fullMode=true

# ============================================================================
# KOTLIN SETTINGS
# ============================================================================
# Kotlin code style for this project: "official" or "obsolete":
kotlin.code.style=official

# Enable incremental Kotlin compilation
kotlin.incremental=true

# Enable incremental Kotlin compilation for JVM
kotlin.incremental.java=true

# Use a separate daemon for Kotlin compilation
kotlin.compiler.preciseCompilationResultsBackup=true
